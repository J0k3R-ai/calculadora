var admin={backofficeUrl:null,init:function(e){var t=this;main.isIframe||void 0===typeof Storage||!localStorage.getItem("backofficeAdmin")||main.isMobile()||(this.backofficeUrl=e,Api.request("/b/auth/check/?p="+Math.ceil(1e4*Math.random()),"GET",{success:function(e){e?t.render():localStorage.removeItem("backofficeAdmin")}}))},render:function(){var e=this,t=encodeURIComponent(window.location.href),n=null,i=window.innerWidth,a=this.isPanelOn()&&i>=1024,r=main.getPage();n='<div id="adminBar" class="admin-bar no-print">',"article"==r.type&&(n+='<a href="'+this.backofficeUrl+"articles/edit?url="+r.url+'">Editar</a>'),n+='<a href="'+this.backofficeUrl+'" target="_blank">Backoffice</a><a href="'+this.backofficeUrl+'articles/new/" target="_blank">Novo Artigo</a>',n+='<a href="#" class="clear-cache">Limpar cache</a>',null!==a&&(n+='<a href="#" class="red turn-off-panel '+(a?"":"hidden")+'">Fechar Painel</a>',n+='<a href="#" class="green turn-on-panel '+(a?"hidden":"")+'">Abrir Painel</a>'),n+="</div>",document.getElementById("adminBar")&&document.getElementById("adminBar").remove(),utils.appendHtmlToElement(n,document.getElementsByTagName("body")[0]);var o=document.querySelector(".turn-on-panel"),l=document.querySelector(".turn-off-panel");document.querySelector(".clear-cache").onclick=function(){Api.request("/b/index/cache-clear/?url="+t,"GET",{success:function(){window.location.reload()}})},!main.isMobile()&&l&&(l.onclick=function(){var e=document.querySelector(".turn-on-panel"),t=document.querySelector(".turn-off-panel");return localStorage.setItem("backofficePanelOn",!1),document.getElementById("backofficeWindow").remove(),utils.toggleClass(e,"hidden",!1),utils.toggleClass(t,"hidden",!0),document.querySelector("body").style.width="auto",document.querySelector("#navBar").style.width="100%",document.querySelector("#footerWidgets").style.width="100%",document.querySelector("#footerWidgets").style.overflow="auto",document.getElementById("adminBar").style.right="0px",window.dispatchEvent(new Event("resize")),!1},o.onclick=function(){return localStorage.setItem("backofficePanelOn",!0),e.turnOnPanel(!0),utils.toggleClass(l,"hidden",!1),utils.toggleClass(o,"hidden",!0),!1},this.turnOnPanel())},isPanelOn:function(){return main.isMobile()||main.isIframe||!main.page||"undefined"==typeof Storage?null:!("false"==localStorage.getItem("backofficePanelOn")||!localStorage.getItem("backofficePanelOn"))},turnOnPanel:function(e){var t,n=window.innerWidth,i=(window.inneHeight,main.getPage());if(t=Math.max(420,Math.min(700,n-1024)),Math.max(1024,n-t),i&&!(n<1440&&!0!==e)&&!0===this.isPanelOn()){if(query="type="+i.type,i.id)query+="&id="+i.id;else{if(!i.url)return;query+="&url="+i.url}query+="&language="+main.getLanguage();var a=document.createElement("iframe");a.setAttribute("id","backofficeWindow"),a.setAttribute("src",this.backofficeUrl+"panel/index/?"+query),a.style.cssText="width: "+t+"px;height: 100%; position: fixed; top: 0px; right: 0px; border: solid 0px #ccc; z-index:101; border-left: dashed 2px #48B1CD",document.querySelector("body").style.width=n-t+"px",document.querySelector("#navBar").style.width=n-t+"px",document.querySelector("#footerWidgets").style.width=n-t+"px",document.querySelector("#footerWidgets").style.overflow="hidden",document.getElementsByTagName("body")[0].appendChild(a),document.getElementById("adminBar").style.right=t+"px",window.dispatchEvent(new Event("resize"))}}};
var amazonAds={init:function(){!function(t,e,a,s,i,o,n){function c(a,s){e[t]._Q.push([a,s])}e[t]||(e[t]={init:function(){c("i",arguments)},fetchBids:function(){c("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=a.createElement(s)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(n=a.getElementsByTagName(s)[0]).parentNode.insertBefore(o,n))}("apstag",window,document,"script"),apstag.init({pubID:"fbd71602-861a-434f-bce7-5c91ff7aeff8",adServer:"googletag",bidTimeout:2e3}),apstag.fetchBids({slots:this.getAvailableSlots()},(function(t){googletag.cmd.push((function(){apstag.setDisplayBids(),googletag.pubads().refresh()}))}))},getAvailableSlots:function(){var t=[];return Object.keys(googleAds.ads).forEach((e=>{var a=googleAds.ads[e];Object.keys(a).forEach((e=>{var s=a[e],i=s.devices.map((t=>[t.width,t.height]));t.push({slotID:s.div_id,slotName:s.slot,sizes:i})}))})),t}};
var Api={objectToFormData:function(e,t,a){var o,n=t||new FormData;for(var r in e)e.hasOwnProperty(r)&&(o=a?a+"["+r+"]":r,"object"!=typeof e[r]||e[r]instanceof File?n.append(o,e[r]):this.objectToFormData(e[r],n,r));return n},request:function(e,t,a){a.dataType=a.dataType||"json",t=t.toUpperCase();var o=new Headers;o.append("x-requested-with","XMLHttpRequest"),void 0!==a.headers&&Object.keys(a.headers).forEach((function(e){o.append(e,a.headers[e])}));var n={method:t,headers:o};a.body&&(n.body=a.body),"POST"===t&&a.data?n.body=this.objectToFormData(a.data):"GET"===t&&a.data&&(-1!==e.indexOf("?")?e+="&":e+="?",e+=Object.keys(a.data).map((function(e){return e+"="+a.data[e]})).join("&")),fetch(e,n).then((function(t){var o=t.headers.get("content-type");return"json"===a.dataType&&o&&-1!==o.indexOf("application/json")?t.json().then((function(t){t.ok?a.success?a.success(t.data):console.log("No success method defined: ",e,data):a.error&&a.error(t.data)})):"html"===a.dataType?t.text().then((function(t){a.success?a.success(t):console.log("No success method defined: ",e,data)})):void(a.error&&a.error(null))})).catch((function(e){console.log(e)}))},prepareFormData:function(e){return new FormData(e)},upload:function(e,t,a,o){var n=new FormData;t.files[0]||console.log("No file selected"),n.append("file",t.files[0]),n.append("type",a.imgType),this.request(e,"POST",{data:n,contentType:!1,processData:!1,success:o.bind(null)})},ajaxifyForm:function(e,t,a){var o=this;e.jquery&&(e=e[0]),a=a||{},"string"==typeof e&&(e=document.querySelector(e)),e.onsubmit=function(e){var n,r=e.target;return a.before&&!1===a.before()||(n={body:o.prepareFormData(r),success:function(e){t(e)},processData:!1},r.enctype&&(n.enctype=r.enctype),n.contentType=!1,a.dataType&&(n.dataType=a.dataType),o.request(r.action,r.method,n)),!1}},requestHtml:function(e,t,a){a.dataType="html",Api.request(e,t,a)}};
var articleFeedback={translations:null,articleSurvey:null,articleSurveyForm:null,signature:null,setTranslations:function(e){this.translations=e},init:function(e){this.articleSurveyForm=document.getElementById("articleSurveyForm"),this.articleSurvey=document.querySelector(".article-survey"),this.feedbackSurvey=document.querySelector(".feedback-survey-container"),this.articleId=e,this.createSignature(),this.bind()},bind:function(){var e=this;this.articleSurvey.querySelectorAll(".option a").forEach((function(t){t.onclick=function(t){var r=t.target,s=r.parentNode.querySelector("a.selected"),n=r.dataset.answer;return s&&s.classList.toggle("selected",!1),r.classList.toggle("selected",!0),e.articleSurveyFormSubmit(n),document.getElementById("feedbackHelpful").value=n,tsReCaptcha.load(),!1}})),this.articleSurvey.querySelector(".message-request a").onclick=function(){return e.requestAnswerToggle(),!1},document.getElementById("articleFeedbackForm").onsubmit=()=>(e.sendFeedback(),!1)},sendFeedback:function(e){const t=this;if(t.setSending(t.feedbackSurvey,!0),!e)return tsReCaptcha.ifHumanDo((function(e){document.getElementById("feedbackCaptcha").value=e,t.sendFeedback(!0)})),!1;const r=document.getElementById("articleFeedbackForm");var s=new FormData(r);Api.request(r.action,r.method,{body:s,processData:!1,success:e=>{t.closeFeedbackForm(),e.sentEmail?main.alert(t.translations.emailSentMessage,null,!0):main.alert(t.translations.messageSentMessage,null,!0),t.setSending(t.feedbackSurvey,!1)}})},closeFeedbackForm:function(){this.feedbackSurvey.classList.toggle("_hide",!0),document.querySelector(".article-survey").classList.toggle("open",!1)},requestAnswerToggle:function(){var e=document.getElementById("feedbackRequestForm"),t=document.getElementById("feedbackEmail");this.requestAnswer=!this.requestAnswer,e.classList.toggle("_hide",!this.requestAnswer),t.required=this.requestAnswer},articleSurveyFormSubmit:function(e){var t=this;this.setSending(this.articleSurvey,!0),googleAnalyticsEvents.send("article-survey-clicked",e),Api.request(this.articleSurveyForm.action,"POST",{data:{data:{article_id:this.articleId,helpful:e,signature:this.signature}},success:()=>{t.setSending(t.articleSurvey,!1),t.openFeedbackSurvey()}})},openFeedbackSurvey:function(){this.feedbackSurvey.classList.toggle("_hide",!1),document.querySelector(".article-survey").classList.toggle("open",!0)},setSending:function(e,t){e.querySelector("form").classList.toggle("amp-form-submitting",t)},createSignature:function(){if(null!==this.signature)return this.signature;var e=new Date;return this.signature=e.getTime()+"|"+Math.floor(1e5*Math.random()),this.signature}};
var article={page:null,faqElement:null,bibliographyElement:null,init:function(e){const t=this;this.page={type:"article",id:e},tuasaude.isMobile()||(document.querySelector(".right-column").style.height=document.querySelector(".left-column").offsetHeight+"px"),this.faqElement=document.getElementById("articleFaq"),this.faqElement&&this.initFaq(),this.bibliographyElement=document.getElementById("articleBibliography"),this.bibliographyElement&&this.initBibliography(),main.addScrollMethod((function(e){var t=document.querySelector("#articleBody"),i=main.elementInViewport(t)&&e>t.offsetTop;if(document.querySelector("body").classList.toggle("scrolling-article",i),i){var l=t.getBoundingClientRect(),n=window.innerHeight,o=(e-t.offsetTop+n/2)/l.height;document.querySelector("body").classList.toggle("scrolling-article",i),document.querySelector("#navBar .completion-bar .inner").style.width=Math.min(100*o,100)+"%"}}));const i=document.querySelector(".article-index");i&&(console.log("will bind the anchors"),i.querySelectorAll("a").forEach((function(e){e.onclick=e=>{const i=e.currentTarget.href.split("#")[1];googleAnalyticsEvents.send("article-anchor-clicked",i),events.send(t.page,{type:"article-anchor",id:i},"clicked","1")}})))},initFaq:function(){console.log("initing faqs!!");var e=this,t=this.faqElement.querySelectorAll(".info-block-list-item h4 a"),i=function(t){var i=t.currentTarget,l=i.closest("li"),n=i.querySelector("span.arrow");return n.classList.toggle("up"),n.classList.toggle("down"),l.classList.toggle("show"),l.classList.contains("show")&&(googleAnalyticsEvents.send("article-faq-clicked",l.dataset.question,!0),events.send(e.page,{type:"article-faq",id:l.dataset.id},"clicked","1")),!1};t.forEach((function(e){e.onclick=i})),this.faqElement.querySelectorAll(".answer-article a").forEach((function(t){t.onclick=function(t){var i=t.target.closest("li");googleAnalyticsEvents.send("article-faq-article-clicked",i.dataset.question,!0),events.send(e.page,{type:"article-faq",id:i.dataset.id},"article-clicked","1")}})),this.faqElement.querySelectorAll(".answer-video a").forEach((function(t){t.onclick=function(t){var i=t.target.closest("li");googleAnalyticsEvents.send("article-faq-video-clicked",i.dataset.question,!0),events.send(e.page,{type:"article-faq",id:i.dataset.id},"video-clicked","1")}}))},initBibliography:function(){var e=this.bibliographyElement.querySelector("#showCompleteBibliography");e&&(e.onclick=function(e){return document.querySelector("#bibliographyExtraItems").classList.toggle("_hide"),e.target.remove(),!1})}};
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ConsentBar=e()}}((function(){return function e(t,i,o){function n(s,r){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}};t[s][0].call(d.exports,(function(e){return n(t[s][1][e]||e)}),d,d.exports,e,t,i,o)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,t,i){const o=e("./src/DOMManipulation"),n=e("./src/AMPController"),a=e("./src/Utils");function s(e){"use strict";this.config=a.extend({enable:!1,blocking:!0,language:"en",privacy_page:"privacy",storage_name:"sg_consent",google_events:!0},e),n.hasConcent()&&!1!==this.consentStatus&&this.consentAllow({all:!0})}var r=s.prototype;r.showBar=function(e=!1){let t=this.consentStatus();return!!(this.config.enable&&a.getCEOUrl()!==a.trimChar(this.config.privacy_page,"/")&&!1===t||e)&&(o.setupCSS(),o.drawBar(this),o.setupEvents(this),e&&!1!==t?o.setConsentOptions(t):o.setConsentOptions({all:!0}),e&&o.showAllOptions(this.config),!0)},r.consentAllow=function(e=[]){return void 0!==this.config.storage_name&&(window.localStorage.setItem(this.config.storage_name,JSON.stringify(e)),!0)},r.consentStatus=function(){if(void 0!==this.config.storage_name){let e=window.localStorage.getItem(this.config.storage_name);if(e)return JSON.parse(e)}return!1},t.exports=s},{"./src/AMPController":3,"./src/DOMManipulation":4,"./src/Utils":7}],2:[function(e,t,i){t.exports=".gdpr-detail-list,.gdpr-hello--description br{display:none}#gdpr-wrapper{position:relative;z-index:2147483648;color:#404040}.gdpr-blocked,.gdpr-container{font-family:sans-serif;width:100%;bottom:0;border-top:solid 1px #e7e7e7;margin-top:5px}.gdpr-blocked{content:'';height:100%;top:0;left:0;right:0;background:-webkit-gradient(linear,left bottom,left top,color-stop(0,#404040),to(rgba(41,41,41,.5)));background:linear-gradient(to top,#404040 0,rgba(41,41,41,.5) 100%)}.gdpr-container{background:#fff;z-index:1000;padding:10px 0}.gdpr-hello--intro{display:inline-block;width:100%;float:left}@media (min-width:768px){.gdpr-hello--intro{width:70%}}.gdpr-hello--action{position:relative;display:inline-block;width:100%;text-align:center}@media (min-width:768px){.gdpr-hello--action{margin-top:10px;width:30%}}.gdpr-hello--description{font-size:13px;text-align:center;padding:0;line-height:inherit;margin:0 0 10px}.gdpr-hello--description a{color:inherit;text-decoration:underline}@media (min-width:768px){.gdpr-hello--description{font-size:14px;text-align:left;padding-right:20px;margin:10px 0}.gdpr-hello--description a:hover{text-decoration:none}.gdpr-hello--description br{display:inline}}.gdpr-detail-list{list-style:none;margin:0}@media (min-width:768px){.gdpr-detail-list{margin:20px auto 0}}.gdpr-detail-list--item{display:inline-block;width:100%;margin:0;border-top:1px solid #ececec;padding:15px 0}.gdpr-detail-list--item-text{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:70%;font-weight:700;padding:0 0 0 10px;font-size:12px;line-height:1.3;color:#656565}.gdpr-detail-list,.gdpr-hello{position:relative;margin-right:auto;margin-left:auto;padding-left:5px;padding-right:5px;max-width:100%}@media (min-width:768px){.gdpr-detail-list,.gdpr-hello{max-width:1014px;padding-left:15px;padding-right:15px}}@media (min-width:1140px){.gdpr-detail-list,.gdpr-hello{max-width:1130px}}.gdpr-mandatory{padding:10px 0}.gdpr-mandatory .gdpr-detail-list--item-text{display:inline-block}.gdpr-mandatory .gdpr-toggle--switcher{display:none}.gdpr-mandatory .gdpr-toggle--status,.gdpr-toggle-wrap{display:inline-block}.gdpr-toggle-wrap{position:relative;width:30%;color:#737373;-webkit-box-sizing:border-box;box-sizing:border-box}.gdpr-toggle--status{display:none;width:100%;text-align:center;font-size:12px}.gdpr-toggle--switcher{text-align:center;margin:-5px 0 -10px}.gdpr-toggle--switcher .gdpr-toggle{background:#ececec;border:1px solid #b7b7b7;border-radius:11px;cursor:pointer;display:block;height:16px;width:34px;margin:0 auto;position:relative;outline:0}.gdpr-toggle--switcher .gdpr-toggle--off>span{left:-4px}.gdpr-toggle--switcher .gdpr-toggle--on{background:#6de497;border:1px solid #42dc78}.gdpr-toggle--switcher .gdpr-toggle--on>span{right:-4px}.gdpr-toggle--switcher .gdpr-toggle--switch{background:#fff;border:1px solid #b7b7b7;border-radius:50%;display:inline-block;width:23px;height:23px;position:absolute;top:-4px}.gdpr-toggle--switcher .gdpr-toggle--label{margin-top:8px;display:inline-block;font-size:10px}.gdpr-btn-accept,.gdpr-btn-save-exit{position:relative;display:inline-block;background:#4b9a65;text-align:center;color:#fff;font-weight:700;border-radius:4px;-webkit-box-shadow:0 3px 0 #34804d;box-shadow:0 3px 0 #34804d;text-shadow:0 1px 2px rgba(0,0,0,.2);padding:10px 4px;font-size:14px;line-height:initial;width:100%;height:auto;text-decoration:none;border:0}.gdpr-btn-save-exit{display:none;margin-bottom:3px}.gdpr-btn-accept:hover,.gdpr-btn-save-exit:hover{color:#fff;background:#34804d}@media (min-width:768px){.gdpr-btn-save-exit{margin-bottom:0}}"},{}],3:[function(e,t,i){var o={hasConcent:function(){"use strict";var e;for(e=0;e<window.localStorage.length;e+=1)if("amp-store"===window.localStorage.key(e).slice(0,9))return!0;return!1}};t.exports=o},{}],4:[function(e,t,i){const o=e("./Utils"),n=e("./Google"),a=e("./Language"),s="gdpr-wrapper",r={getHTMLTemplate:function(e){const t=e.config;"undefined"===t.language&&(t.language="en");let i=a.getPackage(t.language),n=o.extend(t,i),s='<div class="gdpr-container"> <div class="gdpr-hello"> <div class="gdpr-hello--intro"> <p class="gdpr-hello--description">{{description}}</p></div><div class="gdpr-hello--action"> <button id="accept" class="gdpr-btn-accept">{{accept}}</button> <button id="save_exit" class="gdpr-btn-save-exit">{{accept}}</button> </div></div><ul class="gdpr-detail-list"> <li class="gdpr-detail-list--item gdpr-mandatory"> <div class="gdpr-detail-list--item-text">{{google_tools}}</div><div class="gdpr-toggle-wrap"> <span class="gdpr-toggle--status">{{mandatory}}</span> <div class="gdpr-toggle--switcher"> <span class="gdpr-toggle gdpr-toggle--off" id="google_tools"> <span class="gdpr-toggle--switch"></span> </span> <span class="gdpr-toggle--label">{{off}}</span> </div></div></li><li class="gdpr-detail-list--item gdpr-mandatory"> <div class="gdpr-detail-list--item-text">{{customize}}</div><div class="gdpr-toggle-wrap"> <span class="gdpr-toggle--status">{{mandatory}}</span> <div class="gdpr-toggle--switcher"> <span class="gdpr-toggle gdpr-toggle--off" id="customize"> <span class="gdpr-toggle--switch"></span> </span> <span class="gdpr-toggle--label">{{off}}</span> </div></div></li><li class="gdpr-detail-list--item"> <div class="gdpr-detail-list--item-text">{{data_access}}</div><div class="gdpr-toggle-wrap"> <span class="gdpr-toggle--status">{{mandatory}}</span> <div class="gdpr-toggle--switcher"> <span class="gdpr-toggle gdpr-toggle--off" id="data_access"> <span class="gdpr-toggle--switch"></span> </span> <span class="gdpr-toggle--label">{{off}}</span> </div></div></li><li class="gdpr-detail-list--item"> <div class="gdpr-detail-list--item-text">{{customize_ads}}</div><div class="gdpr-toggle-wrap"> <span class="gdpr-toggle--status">{{mandatory}}</span> <div class="gdpr-toggle--switcher"> <span class="gdpr-toggle gdpr-toggle--off" id="customize_ads"> <span class="gdpr-toggle--switch"></span> </span> <span class="gdpr-toggle--label">{{off}}</span> </div></div></li><li class="gdpr-detail-list--item"> <div class="gdpr-detail-list--item-text">{{customize_content}}</div><div class="gdpr-toggle-wrap"> <span class="gdpr-toggle--status">{{mandatory}}</span> <div class="gdpr-toggle--switcher"> <span class="gdpr-toggle gdpr-toggle--off" id="customize_content"> <span class="gdpr-toggle--switch"></span> </span> <span class="gdpr-toggle--label">{{off}}</span> </div></div></li></ul></div>';for(var r in n)s=o.replaceAll(s,"{{"+r+"}}",n[r]);return s=o.replaceAll(s,"{{privacy_page}}",n.privacy_page),s},setupCSS:function(){var t="consent-css";if(!document.getElementById(t)){var i=document.getElementsByTagName("head")[0],o=document.createElement("style");o.id=t,o.media="all",o.innerHTML=e("../assets/style.css"),i.appendChild(o)}},drawBar:function(e){var t=document.getElementById(s);if(t)t.style.display="block";else{var i=document.createElement("div");i.id=s,void 0!==e.config.blocking&&e.config.blocking&&i.classList.add("gdpr-blocked"),i.innerHTML=this.getHTMLTemplate(e),footerWidgets.addCookieConsent(i)}},getConsentOptions:function(e){let t="";t=e?".gdpr-toggle--on, .gdpr-toggle--off":".gdpr-toggle--on, .gdpr-mandatory .gdpr-toggle";let i=document.querySelectorAll(t);var o={};return Array.prototype.forEach.call(i,(function(e){void 0!==e&&void 0!==e.id&&(o[e.id]=!0)})),o},setConsentOptions:function(e){if(void 0!==e.all&&!0===e.all){let e=document.querySelectorAll(".gdpr-toggle--off");Array.prototype.forEach.call(e,(function(e){void 0!==e&&e.click()}))}else for(var t in e)void 0!==e[t]&&!0===e[t]&&document.getElementById(t).click()},hideBar:function(){footerWidgets.removeCookieConsent(),document.getElementById(s).remove()},showAllOptions:function(e){var t=document.getElementsByClassName("gdpr-detail-list");0!=t.length&&(t=t[0]),t.style.display="block",document.getElementById("save_exit").style.display="inline-block",document.getElementById("accept").style.display="none",void 0!==e.google_events&&e.google_events&&n.sendEvent("open_permissions_description"),footerWidgets.openedCookieConsentList()},setupEvents:function(e){const t=e.config;let i=document.getElementsByClassName("gdpr-toggle");const s=a.getPackage(t.language);Array.prototype.forEach.call(i,(function(e){e.removeEventListener("click",{}),o.addListener(e,"click",(function(e){e.preventDefault(),this.classList.toggle("gdpr-toggle--off"),this.classList.toggle("gdpr-toggle--on"),this.classList.contains("gdpr-toggle--off")?this.nextElementSibling.innerHTML=s.off:this.nextElementSibling.innerHTML=s.on}))}));var r=this,l=document.getElementById("cookies_manager");o.addListener(l,"click",(function(e){e.preventDefault(),r.showAllOptions(t)}));var c=document.getElementById("accept");r=this;o.addListener(c,"click",(function(i){i.preventDefault(),e.consentAllow({all:!0}),void 0!==t.google_events&&t.google_events&&n.sendEvent("accepted_all"),r.hideBar()}));var d=document.getElementById("save_exit");o.addListener(d,"click",(function(i){i.preventDefault();const o=r.getConsentOptions();e.consentAllow(o),void 0!==t.google_events&&t.google_events&&n.sendEvent("accepted_some_permissions",!0,JSON.stringify(o).replace(/"/g,"'")),r.hideBar()}))}};t.exports=r},{"../assets/style.css":2,"./Google":5,"./Language":6,"./Utils":7}],5:[function(e,t,i){var o={sendEvent:function(e,t=!0,i=""){"undefined"!=typeof gtag?gtag("event",e,{event_category:"ConsentBar",event_label:i,non_interaction:!t}):"undefined"!=typeof ga&&ga("send","event","ConsentBar",e,i,0,{nonInteraction:!t})}};t.exports=o},{}],6:[function(e,t,i){t.exports={getPackage:function(e="en"){switch(e){case"pt_PT":case"pt":return{description:'Para melhorar a sua experiência no site utilizamos cookies para personalizar conteúdo e anúncios. <br>Clique em <b>Aceitar e fechar</b> para consentir a utilização dos cookies, visite a <a href="{{privacy_page}}">política de privacidade</a> para mais informações ou faça <a href="#" id="cookies_manager">aqui</a> a Gestão de Cookies.',"description-amp":'Para melhorar a sua experiência no site utilizamos cookies para personalizar conteúdo e anúncios. <br>Clique em <b>Aceitar e fechar</b> para consentir a utilização dos cookies, visite a <a href="{{privacy_page}}">política de privacidade</a> para mais informações.',accept:"Aceitar e fechar",cookies_manager:"Gestão de Cookies",save_exit:"Guardar e sair",mandatory:"Necessário",off:"Desligado",on:"Ligado",google_tools:"Google Analytics",customize:"Personalização",data_access:"Conservação e acesso a informações",customize_ads:"Seleção, disponibilização, comunicação de anúncios",customize_content:"Seleção, disponibilização, comunicação de conteúdo"};case"es":return{description:'Para mejorar su experiencia en el site utilizamos cookies para personalizar el contenido y los anuncios. <br>Haga clic en <b>Aceptar y cerrar</b> para consentir la utilización de cookies, visite la <a href="{{privacy_page}}">política de privacidad</a> para más información o haga <a href="#" id="cookies_manager">clic aquí</a> la Gestión de cookies.',"description-amp":'Para mejorar su experiencia en el site, utilizamos cookies para personalizar el contenido y los anuncios. <br>Haga clic en <b>Aceptar y cerrar</b> para consentir la utilización de cookies, visite la <a href="{{privacy_page}}">política de privacidad</a> para más información.',accept:"Aceptar y cerrar",cookies_manager:"Gestión de cookies",save_exit:"Guardar y Salir",mandatory:"Necesario",off:"Desactivado",on:"Activado",google_tools:"Google Analytics",customize:"Personalización",data_access:"Conservación y acceso a informaciones",customize_ads:"Selección, disponibilización y comunicación de anuncios",customize_content:"Selección, disponibilización y comunicación de contenido"};case"ru":return{description:'Чтобы улучшить ваш опыт на сайте, мы используем cookies для персонализации контента и рекламы. <br>Нажмите <b>Принять и закрыть</b> чтобы дать согласие на использование cookies, посетите <a href="{{privacy_page}}">Политику конфиденциальности</a> для получения дополнительной информации или нажмите <a href="#" id="cookies_manager">Здесь</a> для управления cookies.',"description-amp":'Для того чтобы улучшить ваш опыт на сайте, мы используем файлы cookies для персонализации контента и рекламы.<br>Нажмите <b>Принять и закрыть</b> чтобы дать согласие на использование cookies, или посетите <a href="{{privacy_page}}">Политику конфиденциальности</a> для получения дополнительной информации.',accept:"Принять и закрыть",cookies_manager:"Управление файлами cookies",save_exit:"Сохранить и выйти",mandatory:"Обязательное",off:"Выключено",on:"Включено",google_tools:"Гугл аналитика",customize:"Настройки",data_access:"Доступ к данным",customize_ads:"Настроить рекламные предпочтения",customize_content:"Настроить предпочтения контента"};case"fr":return{description:'Pour vous offrir la meilleure expérience sur notre site, nous utilisons des cookies pour personnaliser le contenu et les publicités. <br>Cliquez sur <b>Accepter et fermer</b> pour consentir à l\'utilisation de cookies ou visitez le <a href="{{privacy_page}}">politique de confidentialité</a> pour plus d\'informations ou consultez <a href="#" id="cookies_manager">ici</a> le gestionnaire de cookies',"description-amp":"Pour vous offrir la meilleure expérience sur notre site, nous utilisons des cookies pour personnaliser le contenu et les publicités. <br>Cliquez sur <b>Accepter et fermer</b> pour consentir à l'utilisation de cookies ou visitez le <a href=\"{{privacy_page}}\">politique de confidentialité</a> pour plus d'informations.",accept:"Accepter et fermer",cookies_manager:"Gestionnaire de cookies",save_exit:"Enregistrer et quitter",mandatory:"Nécessaire",off:"Off",on:"On",google_tools:"Google Analytics",customize:"Personnalisation",data_access:"Conservation et accès à l'information",customize_ads:"Sélection, disponibilité, rapport sur les annonces",customize_content:"Sélection, disponibilité, communication de contenu"};default:return{description:'To give you the best experience on our site we use cookies to personalise content and adverts. <br>Click on <b>Accept and Close</b> to consent to the use of cookies or visit the <a href="{{privacy_page}}">privacy policy</a> for more information or consult <a href="#" id="cookies_manager">here</a> the Cookies Manager',"description-amp":'To give you the best experience on our site we use cookies to personalise content and adverts. <br>Click on <b>Accept and Close</b> to consent to the use of cookies or visit the <a href="{{privacy_page}}">privacy policy</a> for more information.',accept:"Accept and Close",cookies_manager:"Cookies Manager",save_exit:"Save and Exit",mandatory:"Necessary",off:"Off",on:"On",google_tools:"Google Analytics",customize:"Personalisation",data_access:"Conservation and access to information",customize_ads:"Selection, availability, ad reporting",customize_content:"Selection, availability, content communication"}}}}},{}],7:[function(e,t,i){var o={extend:function(e,t){"use strict";var i,o={};for(i in e)o[i]=e[i];for(i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?o[i]=this.extend(e[i]||{},t[i]):o[i]=t[i];return o},getBaseResourcesURL:function(){"use strict";return-1===location.hostname.indexOf(".test")?"https://7gra.us/":"//resources.test/"},getCEOUrl:function(){"use strict";return this.trimChar(window.location.pathname,"/")},trimChar:function(e,t){"use strict";for(;e.charAt(0)===t;)e=e.substring(1);for(;e.charAt(e.length-1)===t;)e=e.substring(0,e.length-1);return e},replaceAll:function(e,t,i){return e.replace(new RegExp(t,"g"),i)},addListener:function(e,t,i,o){let n;return null!=e&&(e.addEventListener?(n=1,e.addEventListener(t,i,!(!window.sg_passive||!o)&&{passive:!0})):e.attachEvent?(n=2,i=function(){return i.call(e,window.event)},e.attachEvent("on"+t,i)):(n=3,e["on"+t]=i),{method:n,element:e,type:t,callback:i,passive:o})}};t.exports=o},{}]},{},[1])(1)}));
var events={token:null,send:function(e,t,n,o,i,a){var s=this;void 0!==a&&(this.token=a),Api.request("/bin/evt.php","POST",{data:{page:e,object:t,type:n,value:o,vars:i,context:main.isMobile()?"mobile":"desktop",language:main.getLanguage(),token:this.token?this.token:""},success:function(e){s.token=e.token}})}};
var footerWidgets={showAds:!1,widgetsOn:[],rootEl:null,removeAdBlockEl:null,cookieContainer:null,adShown:!1,showTimeout:1e4,adShowTimeout:null,init:function(e){this.showAds=e,this.rootEl=document.getElementById("footerWidgets"),this.adContainer=document.getElementById("stickyAdContainer"),this.removeAdBlockEl=this.rootEl.querySelector(".hide-widgets"),this.cookieContainer=document.getElementById("pageCookieConsentContainer")},removeAdBlock:function(){if(-1!==this.widgetsOn.indexOf("ad-block")){var e=document.getElementById("stickyAdContainer");this.removeAdBlockEl.classList.toggle("hidden",!0),e.remove(),this.remove("ad-block")}},addAdBlock:function(e){if(this.showAds&&-1===this.widgetsOn.indexOf("ad-block")){var o=this;o.adShowTimeout=window.setTimeout((function(){o.adShown||(o.adShown=!0,googletag.cmd.push((function(){googletag.display(o.adContainer.querySelector(".ad").id)})))}),this.showTimeout-1e3),utils.onScrollDelayed((function(){window.clearTimeout(o.adShowTimeout),o.adShown||(o.adShown=!0,googletag.cmd.push((function(){googletag.display(o.adContainer.querySelector(".ad").id)})))}),1e3),this.removeAdBlockEl.classList.toggle("hidden",!1),this.adContainer.classList.toggle("hidden",!1),this.add("ad-block"),this.removeAdBlockEl.onclick=function(){return o.removeAdBlock(),!1}}},add:function(e){var o=this;0===this.widgetsOn.length&&(utils.onScrollDelayed((function(){o.rootEl.classList.toggle("hidden",!1)}),1e3),window.setTimeout((function(){o.rootEl.classList.toggle("hidden",!1)}),this.showTimeout)),this.widgetsOn.push(e)},remove:function(e){var o=this.widgetsOn.indexOf(e);-1!==o&&(this.widgetsOn.splice(o,1),0===this.widgetsOn.length&&this.rootEl.classList.toggle("hidden",!0))},addCookieConsent:function(e){this.cookieContainer.appendChild(e),this.cookieContainer.classList.toggle("hidden",!1),this.add("consent-bar")},openedCookieConsentList:function(){-1===this.widgetsOn.indexOf("consent-list")&&this.add("consent-list")},removeCookieConsent:function(){this.cookieContainer.querySelector(".gdpr-container").style.visibility="hidden",this.remove("consent-bar"),this.remove("consent-list")}};
var googleAnalyticsEvents={init:()=>{var e=this,t=function(t){var n=t.currentTarget,a=!1;return 1==n.dataset.interaction&&(a=!0),e.send(n.dataset.event,n.dataset.eventAction,a),!0};document.querySelectorAll(".ga-event").forEach((e=>{e.onclick=t}))},send:(e,t,n,a)=>{"boolean"==typeof n&&(a=n,n=void 0),void 0===a&&(a=!0);var o={hitType:"event",eventCategory:e,eventAction:t};void 0!==n&&(o.eventLabel=n);const i=[];ga.getAll().forEach((e=>{const t=e.get("name");-1===i.indexOf(e.get("trackingId"))&&(i.push(e.get("trackingId")),ga(t+".set","nonInteraction",!1===a),ga(t+".send",o))}))}},gaEvent=googleAnalyticsEvents;
var googleAds={ads:{},instances:{},instancesByType:{},adTrackingStarted:!1,refreshableAdUnits:[],init:function(e){var i=this;this.ads=e,this.loadScript(),googletag.cmd.push((function(){i.setDefaultProperties(),googletag.enableServices()}))},loadScript:function(){!function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var i="https:"==document.location.protocol;e.src=(i?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},setDefaultProperties:function(){googletag.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:100,mobileScaling:2}),googletag.pubads().addEventListener("slotRenderEnded",(function(e){if(!e.isEmpty){var i=document.createElement("div"),t=document.createElement("img");t.src="https://sb.scorecardresearch.com/p?c1=8&c2=8734534&​c3=4​&ns_ap_it=b&rn="+(new Date).getTime(),i.appendChild(t),document.body.appendChild(t)}}))},render:function(e){var i=this;googletag.cmd.push((function(){i._render(e)}))},_render:function(e){var i=this;isMobile=main.isMobile(),e={tags:{},deal:null,abTest:null,utmSource:null,mature:!1,language:"nill",imageOnTop:0,...e},Object.keys(this.ads).forEach((function(t){var s=i.ads[t];Object.keys(s).forEach((function(n){var a=s[n],r=googletag.sizeMapping(),o=1===a.devices.length,l=[];if("interstitial"!==t){if((!isMobile||"desktop"!==n)&&(isMobile||"mobile"!==n)){a.devices.forEach((function(e){var i=[e.width,e.height];switch(l.push(i),e.other_dimensions&&(i=[i],e.other_dimensions.forEach((function(e){l.push([e.width,e.height]),i.push([e.width,e.height])}))),e.type){case"tablet":r.addSize([1023,0],i),o&&r.addSize([1024,0],[]);break;case"desktop":o&&r.addSize([0,0],[]),r.addSize([1024,0],i);break;case"mobile-large":r.addSize([340,0],i),o&&r.addSize([0,0],[]);break;case"mobile":r.addSize([0,0],i),o&&r.addSize([769,0],[]);break;case"all":r.addSize([0,0],i)}}));var c={},u=[];l=l.forEach((function(e,i){c[e[0]+"|"+e[1]]||(c[e[0]+"|"+e[1]]=!0,u.push(e))})),l=u;var d=googletag.defineSlot(a.slot,l,a.div_id).defineSizeMapping(r.build()).setTargeting("amp","no").setTargeting("image_on_top",e.imageOnTop).setTargeting("mature",e.mature?"yes":"no").setTargeting("language",e.language);e.layout&&d.setTargeting("layout",e.layout),e.deal&&d.setTargeting("acordo",e.deal.split(",")),e.abTest&&d.setTargeting("ab_test",e.abTest),e.utmSource&&d.setTargeting("ab_test",e.utmSource),e.league&&d.setTargeting("league",e.league),Object.keys(e.tags).forEach((function(i){d.setTargeting(i,e.tags[i])})),d.addService(googletag.pubads()),i.instances[a.div_id]=d,i.instancesByType[t]=d}}else(d=googletag.defineOutOfPageSlot(a.slot,googletag.enums.OutOfPageFormat.INTERSTITIAL))&&(d.addService(googletag.pubads()),i.instances[a.div_id]=d,i.instancesByType[t]=d,window.setTimeout((function(){googletag.display(d)}),1e3))}))}))},initRefresh:function(){var e=this;document.querySelectorAll(".ad.refresh").forEach((function(i){0===i.dataset.rmv||e.initAdTracking()})),this.countTimeOnSmartAds()},initAdTracking:function(){if(this.adTrackingStarted)return!1;var e=this,i=main.isMobile();this.adTrackingStarted=!0,this.refreshableAdUnits=[],document.querySelectorAll(".ad.refresh").forEach((function(t){var s=t.dataset.rmv,n=t.dataset.rp,a=(new Date).getTime();i&&t.classList.contains("desktop-only")||!i&&t.classList.contains("mobile-only")||0!==s&&e.refreshableAdUnits.push({el:t,active:!1,timer:a,counter:0,counterVisible:0,counterVisibleContinous:0,previousVisible:0,clearTimeout:null,iteration:1,iterationX:1,progression:n})}))},countTimeOnSmartAds:function(){var e=this,i=main.isMobile();this.refreshableAdUnits.forEach((function(t,s){var a=t.el,r=(a.id,a.dataset.slot,main.elementInViewport(a,!0));d=new Date,n=d.getTime(),refreshRate=1e3*a.dataset.rr+10*Math.random(),refreshMinimumVisible=1e3*a.dataset.rmv+5*Math.random(),refreshMinimumVisibleContinous=1e3*a.dataset.rmvp+3*Math.random(),refreshMaximumProgression=a.dataset.rmp,refreshMinimumScrollStill=1e3*a.dataset.rmss,multiplier=1,i&&a.classList.contains("desktop-only")||!i&&a.classList.contains("mobile-only")||t.iterationX>=5||(t.active=r,t.active&&t.previousVisible&&(t.counterVisibleContinous+=n-t.previousVisible),t.previousVisible&&(t.counterVisible+=n-t.previousVisible),t.active?t.previousVisible=n:(t.previousVisible=0,t.counterVisibleContinous=0),t.counter+=n-t.timer,t.timer=n,window.clearTimeout(t.clearTimeout),t.iteration=1,refreshMaximumProgression&&refreshMaximumProgression<t.iteration-1||("linear"===t.progression&&(multiplier=t.iteration),"special"===t.progression&&t.iteration>1&&(multiplier=1.5*t.iteration),r&&(multiplier*refreshRate<t.counter&&multiplier/2*refreshMinimumVisible<t.counterVisible&&t.counterVisibleContinous>=refreshMinimumVisibleContinous&&!refreshMinimumScrollStill?t=e.refreshSmartAdSlot(t):t.clearTimeout=window.setTimeout((function(){t=e.refreshSmartAdSlot(t)}),Math.max(refreshRate-t.counter,refreshMinimumVisible-t.counterVisible,refreshMinimumVisibleContinous-t.counterVisibleContinous,refreshMinimumScrollStill))),e.refreshableAdUnits[s]=t))}))},refreshSmartAdSlot:function(e){var i=(new Date).getTime();return e.timer=i,e.counter=0,e.counterVisible=0,e.counterVisibleContinous=0,e.counterVisibleContinous=0,e.previousVisible=0,e.iteration++,e.iterationX++,this.refreshAdSlot(e.el),this.countTimeOnSmartAds(),e},refreshAdSlot:function(e){var i=e.id;e.dataset.slot;console.log("refreshing ad slot: ",e),main.isMobile()?e.classList.contains("desktop-only")||googletag.pubads().refresh([googleAds.instances[i]]):e.classList.contains("mobile-only")||googletag.pubads().refresh([googleAds.instances[i]])}};
function showad(e,n,t){return main.showOptinMonster&&initOptinMonster(),Promise.all([tuasaude.appendJs("redeDorBannerJs","rdor/banner"),tuasaude.appendCss("redeDorBannerCss","rdor/banner"),tuasaude.appendJs("redeDorUtmJs","rdor/linkBuilder")]).then((()=>{let o;tuasaude.setOnRedeDorGround(!0),o="direct",redeDorBanner.enable(e,n,t,"direct")}))}function showDocwayAd(e,n,t){return Promise.all([tuasaude.appendJs("docwayBannerJs","rdor/banner-docway"),tuasaude.appendCss("redeDorBannerCss","rdor/banner-docway"),tuasaude.appendJs("redeDorUtmJs","rdor/linkBuilder")]).then((()=>{docwayBanner.enable(e,n,t)}))}function initOptinMonster(){var e,n;e=document,(n=e.createElement("script")).type="text/javascript",n.src="https://a.omappapi.com/app/js/api.min.js",n.async=!0,n.dataset.user=215780,n.dataset.account=232066,e.getElementsByTagName("head")[0].appendChild(n)}function ts_showad(e,n,t){n+=encodeURI("https://www.rededorsaoluiz.com.br/star/maternidade-sao-luiz-star"),document.querySelector(".tuasaude-br-article-body-1").innerHTML=`\n        <div id="adVideoContainer">\n          <video width="320" height="240" controls muted>\n            <source src="/videos/maternidade_rededor.mp4" type="video/mp4">\n          Your browser does not support the video tag.\n          </video>\n          <a class="cta" rel="sponsored" href="${n}">Saber mais &gt;</a>\n        </div>\n    `,window.outerWidth<600&&(document.querySelector("#adVideoContainer video").style.width=window.outerWidth+"px",document.querySelector("#adVideoContainer video").style.height=.5625*window.outerWidth+"px"),window.setTimeout((()=>{adVideo.init()}),1e3)}var adVideo={init(){this.video=document.querySelector("#adVideoContainer video");var e=setInterval((()=>{main.elementInViewport(this.video)&&(this.video.play(),clearInterval(e))}),1e3);googleAnalyticsEvents.send("maternity-video","impression"),document.querySelector("#adVideoContainer .cta").onclick=()=>{googleAnalyticsEvents.send("maternity-video","click")},this.video.onplay=()=>{googleAnalyticsEvents.send("maternity-video","clicked-play")},this.video.onended=()=>{googleAnalyticsEvents.send("maternity-video","ended")},console.log("binding unmuted!!"),this.video.onvolumechange=()=>{console.log("unmuted!!"),googleAnalyticsEvents.send("maternity-video","unmuted")}}};
var imageUtils={initCensoredControls:()=>{document.querySelectorAll(".censored").forEach((e=>{var t=document.createElement("a");t.href="#",t.innerHTML=main.translations.click_to_see_image,utils.addClass(t,"remove-censored-filter"),t.onclick=e=>{var a=e.target.parentElement.querySelector("picture");return utils.hasClass(a,"censored")?t.innerHTML=main.translations.click_to_hide_image:t.innerHTML=main.translations.click_to_see_image,utils.toggleClass(a,"censored"),!1},e.parentElement.appendChild(t)}))},checkVisible:function(){var e=this;document.querySelectorAll(".lazy-loading").forEach((function(t){var a=t;t.dataset.el&&(t=document.querySelector(t.dataset.el)),main.elementInViewport(t)&&(e.load(a),utils.toggleClass(t,"lazy-loading",!1))}))},load:function(e,t){e&&(void 0===t&&(t="unloaded-scroll"),Array.isArray(e)||NodeList.prototype.isPrototypeOf(e)||(e=[e]),e.forEach((function(e){if("IMG"===e.tagName)e.src=e.dataset.src;else{var a=e.querySelector("img");a.src=a.dataset.src,e.querySelectorAll("source").forEach((function(e){e.srcset=e.dataset.srcset}))}if(main.isMobile()&&void 0!==e.dataset.render)switch(e.dataset.render){case"youtube":var r=.5625*window.innerWidth+"px";e.parentElement.style.height=r,e.style.height=r;break;case"youtube-list":r=.5625*window.innerWidth-20+"px";e.parentElement.style.height=r,e.style.height=r}utils.toggleClass(e,t,!1)})))}};
-1===window.location.href.indexOf("tuasaude.com")&&-1===window.location.href.indexOf("tuasaude.test")&&(window.location.href="https://www.tuasaude.com"+window.location.pathname);var main={page:{type:"default",id:null},_isMobile:null,language:null,translations:null,noConsent:!1,staticCssVersion:null,staticJsVersion:null,staticUrl:null,initialized:!1,scrolling:!1,scrollMethods:[],lastScrollMove:null,assetVersion:null,onRedeDorGrounds:!1,rdorBannerType:null,showOptinMonster:!1,init:function(e,t,n,i,s,o,l){tsReCaptcha.setSiteKey(s),this.language=n,this.lastScrollMove=(new Date).getTime(),main.translations=e,imageUtils.initCensoredControls(),newsletter.init(e),navbar.init(),this.initialized||(this.initOnce(),this.initialized=!0),googleAnalyticsEvents.init(),googleAds.initRefresh(),admin.init(t),videos.init(),this.bindCampaignHeader()},setShowOptinMonster(e){this.showOptinMonster=e},setRdorBannerType(e){this.rdorBannerType=e},setOnRedeDorGround(e){this.onRedeDorGrounds=e},getOnRedeDorGround(){return this.onRedeDorGrounds},bindCampaignHeader(){let e=document.querySelector("body");headerContainerEl=document.getElementById("campaignHeader"),e.classList.contains("has-campaign-header")&&headerContainerEl&&(headerContainerEl.querySelector(".close").onclick=()=>(headerContainerEl.remove(),e.classList.toggle("campaign-header-open",!1),!1),headerContainerEl.querySelector("a.title").onclick=()=>!document.getElementById("screening_TRIAGEM_COVID_19")||(window.location.href=window.location.href.split("#")[0]+"#screening_TRIAGEM_COVID_19",!1),this.checkShowCampaignHeader())},checkShowCampaignHeader(){let e=document.querySelector("body"),t=this;window.setTimeout((()=>{(new Date).getTime()-t.lastScrollMove>1e4?(e.classList.toggle("campaign-header-open"),e.classList.toggle("has-campaign-header")):t.checkShowCampaignHeader()}),1e3)},initScreening(e,t){return Promise.all([this.appendJs("screeningWidgetJs","widgets/screening"),this.appendCss("screeningWidgetCss","widgets/screening")]).then((()=>{new Screening(e,t)}))},appendCss(e,t){return new Promise((n=>{if(document.getElementById(e))n();else{var i=document.getElementsByTagName("head")[0],s=document.createElement("link");s.id=e,s.rel="stylesheet",s.type="text/css",-1===t.indexOf("://")?s.href=this.staticUrl+"assets/"+t+"-"+this.staticCssVersion+".css":s.href=t,s.media="all",i.appendChild(s),s.onload=n}}))},appendJs(e,t,n,i){return void 0===n&&(n="text/javascript"),new Promise((s=>{if(document.getElementById(e))s();else{var o=document.createElement("script");o.setAttribute("type",n),-1===t.indexOf("://")?o.setAttribute("src",this.staticUrl+"assets/"+t+"-"+this.staticJsVersion+".js"):o.setAttribute("src",t),o.setAttribute("id",e),o.setAttribute("async","async"),o.setAttribute("defer","defer"),i&&Object.keys(i).forEach((e=>{o.setAttribute(e,i[e])})),document.getElementsByTagName("body")[0].appendChild(o),o.onload=s}}))},initOnce:function(){var e=this,t=(window.innerWidth||document.documentElement.clientWidth,document.querySelector("#header")),n=document.querySelector("#nav-control");document.addEventListener("scroll",(()=>{e.scrolling=!0})),setInterval((()=>{e.scrolling&&(e.scrollMove(),e.lastScrollMove=(new Date).getTime(),e.scrolling=!1)}),300),this.scrollMove(),n&&utils.addEventListener(n,"click",(function(e){e.preventDefault(),utils.toggleClass(t,"menu-opened")}))},initOptions:function(e){this.staticUrl=e.staticUrl,this.staticCssVersion=e.staticCssVersion,this.staticJsVersion=e.staticJsVersion,this.noConsent=e.noConsent},addScrollMethod:function(e){this.scrollMethods.push(e)},scrollMove:function(){var e=window.pageYOffset;videos.checkVisible(e),googleAds.countTimeOnSmartAds(e,!0),document.querySelectorAll(".lazy-loading").length>0&&imageUtils.checkVisible(),this.scrollMethods.forEach((function(t){t(e)}))},elementInViewport:function(e,t){var n=(e="string"==typeof e?document.querySelector(e):e).getBoundingClientRect(),i=t?n.top>=0:n.top+n.height>=0;return(t?n.top+n.height<=window.innerHeight:n.top<=window.innerHeight)&&i&&"none"!==getComputedStyle(e).display},setPage:function(e,t,n,i,s){this.page={type:e,url:t,id:n,specialty:s},"article"===e&&(article.init(n),void 0!==i&&(this.page.theme=i))},getPage:function(){return this.page},getUrl:function(e){return"/"===e[0]&&(e=e.slice(1)),"/"+("pt"===this.language?"":this.language+"/")+e},getLanguage:function(){return this.language},isMobile:function(){if(null===this._isMobile){var e=window.innerWidth||document.documentElement.clientWidth;this._isMobile=e<=1050}return this._isMobile},scrollToElement:function(e){window.scrollTo(0,utils.getPosition(e).y-document.getElementById("navBar").offsetHeight)},createAlertMessage:function(){var e=document.createElement("div");return e.innerHTML='<div id="globalAlertMessageClonable" class="success-popup clonable"><a href="#" class="close">Fechar</a><img src="/img/ok-round.png" alt="Simbolo de finalizado" /><div class="title"></div><div class="subtitle"></div></div>',e.querySelector("#globalAlertMessageClonable")},alert:function(e,t,n,i){var s=this,o=this.createAlertMessage(),l=e.indexOf("."),a=e.indexOf("!"),r=(l>-1?l:1e3)>(a>-1?a:1e3)?"!":".",c=e.split(r),d=c[0],u=document.querySelector("#globalAlertMessageClone");u&&u.remove(),o.id="globalAlertMessageClone",utils.toggleClass(o,"clonable",!1),d&&c[1]?(e=e.replace(d+r,""),d+="!"):e=null,d?o.querySelector(".title").innerHTML=d:o.querySelector(".title").remove(),e?o.querySelector(".subtitle").innerHTML=e:o.querySelector(".subtitle").remove(),utils.toggleClass(o,"closeable",!!n),document.querySelector("body").appendChild(o),o.querySelector("a.close").onclick=()=>(utils.toggleClass(document.querySelector("#globalAlertMessageClone"),"show",!1),!1),window.setTimeout((function(){s.showHangingElement(o,t)}),200)},initConsentBar:function(e,t,n){if(this.isIframe)return!1;if(void 0!==n){if(this.language=e,this.translations={...this.translations,...t},window.setTimeout((function(){footerWidgets.addAdBlock()}),100),void 0!==localStorage.sg_consent||this.noConsent)return!1;window.consentBar=new ConsentBar({enable:!0,blocking:!1,language:this.language,privacy_page:this.getUrl(this.translations.privacyLink.url+"/"),google_events:!0}),window.consentBar.showBar()}else window.setTimeout((()=>{main.initConsentBar(e,t,!0)}),2e3)},showHangingElement:function(e,t){function n(e,t){utils.toggleClass(e,"show",!0),t&&window.setTimeout((function(){utils.toggleClass(e,"show",!1)}),t)}var i=document.querySelector("#globalAlertMessageClone");if(i.length)return utils.toggleClass(i,"show",!1),void window.setTimeout((function(){i.remove(),n(e,t)}),1e3);n(e,t)}},tuasaude=main;
var MedicalSpecialty={form:null,symptomBox:null,writeTimeout:null,data:null,minLetters:2,hasResults:null,textBefore:null,keywordsSent:[],listCache:{},language:"pt",init:function(e,t){this.language=e,this.form=document.querySelector(".calculator-form.medical-specialty-calculator"),this.symptomBox=this.form.querySelector("input[type=text]"),this.defaultData=t,utils.appendHtmlToElement('<div class="loader hidden"></div>',this.symptomBox.parentElement),this.loader=this.symptomBox.parentElement.querySelector("img.loader"),this.textBefore=this.symptomBox.value,window.setTimeout(this.bind.bind(this),20)},caretPos:function(e){if(e.createTextRange&&document.selection){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""==t.text?e.value.length:e.value.lastIndexOf(t.text)}return e.selectionStart},isInTheInputEnd:function(e){return this.caretPos(e)==this.symptomBox.value.length},checkNewText:function(e){var t=this,i=t.symptomBox,o=i.value,s=(this.encode(o),t.isInTheInputEnd(i)),n=8===e||46===e;window.clearTimeout(t.writeTimeout),(13!==e||t.hasResults)&&(!n&&s||(t.hasResults=null),t.textBefore!==o&&(o.length<t.textBefore.length&&(t.hasResults=null),!1!==t.hasResults||n||!s?(t.textBefore=o,t.writeTimeout=window.setTimeout((function(){o.length>=t.minLetters?t.search(o):t.renderDefaultList(),t.writeTimeout=null}),(t.writeTimeout,300))):t.addNoMoreResultsLabelToList()))},bind:function(){var e=this;this.symptomBox.onfocus=function(e){tsReCaptcha.load();var t=document.getElementById("widgetAutocompleteList");t&&utils.toggleClass(t,"hide",!1)},this.symptomBox.onkeydown=function(t){t.keyCode,window.setTimeout((function(){e.checkNewText(t.keyCode)}),20)},window.addEventListener("mouseup",(t=>{if(t.target!==e.form.querySelector("input.calculate")&&t.target!==this.symptomBox){var i=document.getElementById("widgetAutocompleteList");i&&utils.toggleClass(i,"hide",!0)}})),this.form.querySelector("form").onsubmit=function(t){return e.hasResults?(l=document.getElementById("widgetAutocompleteList"),l&&l.querySelector("li:first-child > a").click()):e.addNoMoreResultsLabelToList(),!1},e.symptomBox.onclick=t=>{t.stopPropagation(),e.symptomBox.value.length>=e.minLetters?document.getElementById("widgetAutocompleteList")||e.search(e.symptomBox.value):e.renderDefaultList()}},renderDefaultList:function(){this.data=this.defaultData,this.renderList()},baseRenderList:function(e){var t=document.createElement("div");t.id="widgetAutocompleteList",t.innerHTML='<div class="title">Seleccione da lista: </div>',this.addNoMoreResultsLabelToList(),t.appendChild(e);var i=document.getElementById("widgetAutocompleteList");i&&i.remove(),this.form.appendChild(t),this.form=document.querySelector(".calculator-form.medical-specialty-calculator"),this.symptomBox=this.form.querySelector("input[type=text]"),t.style.top="83px"},addNoMoreResultsLabelToList:function(){var e=document.getElementById("widgetAutocompleteList"),t=null;if(this.symptomBox.value.length&&e&&!e.querySelector(".nothing")&&!this.hasResults){var i=document.createElement("div");utils.addClass(i,"nothing"),i.innerHTML="<span>"+("pt"===this.language?"Sinto muito não ter conseguido indicar o médico ideal para te fazer sentir melhor, mas por favor, clique em alguma dessas sugestões para eu tentar de novo.":"Siento mucho no haber podido indicar al médico ideal para hacerte sentir mejor, pero por favor, haz clic en alguna de estas sugerencias para intentarlo de nuevo.")+"</span>",e.prepend(i),(t=e.querySelector(".nothing span"))&&(utils.toggleClass(t,"highlight",!1),window.setTimeout((function(){utils.toggleClass(t,"highlight",!0),window.setTimeout((function(){utils.toggleClass(t,"highlight",!1)}),1e3)}),500))}},renderList:function(){var e=this,t=document.createElement("ul");e.data&&(e.data.forEach((function(i){var o=document.createElement("li");a=document.createElement("a"),o.append(a),a.href=main.getUrl(("pt"!==e.language?"especialidad-medica/":"especialidade-medica/")+i.concept_url+"/"),a.text=i.concept,t.append(o)})),e.baseRenderList(t)),e.addNoMoreResultsLabelToList()},encode:function(e){return e=e.replace(/\s+/g," ").trim(),encodeURIComponent(e)},setSearchResult:function(e,t){t.length>0?(this.data=t,this.hasResults=!0):this.hasResults=!1,this.data?this.renderList():this.renderDefaultList(),this.listCache[e]=t},search:function(e){var t=this,i=this.encode(e),o=this.listCache[i];void 0===o?(utils.toggleClass(this.loader,"hidden",!1),Api.request(main.getUrl("search/symptom-checker/?q="+i),"GET",{success:function(e){utils.toggleClass(t.loader,"hide",!0),t.setSearchResult(i,e)}})):this.setSearchResult(i,o)}};
var navbar={headerSearchContainer:null,menuOpener:null,init:function(){var e=this,n=document.getElementById("menuToggle"),t=document.getElementById("navBar").querySelector("label.search");this.headerSearchContainer=document.getElementById("headerSearchContainer"),n&&(this.menuOpener=n.querySelector("input"),this.menuOpener.onchange=function(n){var t=n.target.checked;console.log("changing menu",t),t?e.openMenu():e.closeMenu()}),t.onclick=function(n){e.openSearch()},window.addEventListener("mouseup",(n=>{e.headerSearchContainer;n.target.closest("#headerSearchContainer")||e.closeSearch()})),document.getElementById("bodyBlocker").onclick=function(){e.closeMenu()},this.initAutocomplete(),main.isMobile()||this.bindThemeMenu()},bindThemeMenu:function(){if(document.querySelector(".open-theme-menu a")){document.querySelector(".open-theme-menu a").onmouseover=function(e){var n=e.currentTarget.querySelector("span.arrow");document.getElementById("themeMenu").classList.toggle("open",!0),n.classList.toggle("right",!1),n.classList.toggle("down",!0)};var e=function(e){var n=!!e.toElement.closest("#themeMenu")||!!e.toElement.closest(".open-theme-menu"),t=document.querySelector(".open-theme-menu span.arrow");document.getElementById("themeMenu").classList.toggle("open",n),!1===n&&(t.classList.toggle("right",!0),t.classList.toggle("down",!1))};document.querySelector(".open-theme-menu").onmouseout=e,document.getElementById("themeMenu").onmouseout=e}},initAutocomplete:function(){new _autocomplete(headerSearchContainer,main.getLanguage()).init()},openMenu:function(){utils.toggleClass(document.querySelector("body"),"blocked",!0),this.closeSearch()},openSearch:function(){utils.toggleClass(this.headerSearchContainer,"open",!0),this.closeMenu()},closeMenu:function(){utils.toggleClass(document.querySelector("body"),"blocked",!1),this.menuOpener&&(this.menuOpener.checked=!1)},closeSearch:function(){utils.toggleClass(this.headerSearchContainer,"open",!1)}};
var newsletter={country:null,city:null,translations:null,init:function(t){var e=document.querySelectorAll("#footerNewsletterForm form"),n=this;this.translations=t,e.forEach((function(t){t.querySelector("input[type=email]").onfocus=function(){tsReCaptcha.load(),n.fillCountry(t)},utils.toggleClass(t,"binded",!0),t.onsubmit=function(t){return element=t.target,n.validateForm(element),!1}}))},sendForm:function(t,e,n){t.classList.toggle("amp-form-submitting",!0),Api.request(t.action,"POST",{data:{email:e.value,"g-recaptcha-response":n,city:this.city,country:this.country,nonamp:1},success:function(e){t.classList.toggle("amp-form-submitting",!1),document.getElementById("footerNewsletterForm").classList.toggle("hidden",!0),document.getElementById("footerNewsletterResult").classList.toggle("hidden",!1)}})},validateForm:function(t){var e=t.querySelector("input[type=email]"),n=this;document.getElementById("submitNewsletter");tsReCaptcha.ifHumanDo((function(o){n.sendForm(t,e,o)}))},fillCountry:function(t){var e=this;if(null!==this.country)return t.querySelector(".country").value=this.country,void(t.querySelector(".city").value=this.city);fetch("https://ipapi.co/json/").then((function(t){return t.json()})).then((function(n){e.country=n&&n.country?n.country:"",e.city=n&&n.city?n.city:"",e.fillCountry(t)}))},validateEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}};
var quizStarter={init:function(i,t,e,n,s,a,r,u,d){document.querySelectorAll(".quiz .start-btn").forEach((o=>{o.onclick=()=>Promise.all([main.appendJs("quizWidgetJs","widgets/quiz"),main.appendCss("quizWidgetCss","widgets/quiz")]).then((()=>{var o=new GenericQuiz(i,t,e,n,s,a,r,u,d);o.init(),window.setTimeout((()=>{o.startTest()}),200)}))}))}};
_autocomplete=function(e,t){this.timeoutTime=.3,this.timeoutControl=null,this.previousSearch=null,this.KEY_ENTER=13,this.KEY_UP=38,this.KEY_DOWN=40,this.element="object"==typeof e?e:document.querySelector(e),this.language=t},_autocomplete.prototype.init=function(){var e=this;this.bindInputKeyUp(),utils.appendHtmlToElement('<ul class="autocomplete-list hide"></ul>',this.element),window.addEventListener("mouseup",(t=>{var l=e.element;l!==t.target&&l.querySelector(".search-input")!==t.target&&utils.toggleClass(l.querySelector("ul.autocomplete-list"),"hidden",!0)}))},_autocomplete.prototype.showAutocompleteList=function(){var e=this.element.querySelector("ul.autocomplete-list");utils.toggleClass(e,"hidden",0===e.querySelectorAll("li").length)},_autocomplete.prototype.bindInputKeyUp=function(){var e=this;this.element.querySelector(".search-input").onfocus=function(){e.showAutocompleteList()},this.element.querySelector(".search-input").onkeyup=function(t){var l=t.target.value;e.showAutocompleteList(),t.keyCode!==e.KEY_ENTER&&l!==e.previousSearch&&(e.previousSearch=l,window.clearTimeout(e.timeoutControl),e.timeoutControl=window.setTimeout((function(){l.length<3&&0===e.element.querySelectorAll("ul.autocomplete-list li").length||(utils.toggleClass(e.element,"searching",!0),Api.request(main.getUrl("search/autocomplete/"),"GET",{dataType:"html",data:{q:l},success:function(t){var l=JSON.parse(t);e.renderSearchList(l.items),utils.toggleClass(e.element,"searching",!1)}}))}),1e3*e.timeoutTime))}},_autocomplete.prototype.renderSearchList=function(e){var t=this;e=e.slice(0,50),list=this.element.querySelector("ul.autocomplete-list"),list.innerHTML="",e.forEach((function(e){utils.appendHtmlToElement('<li><a href="'+("pt"===t.language?"/busca/":"/"+t.language+"/busqueda/")+"?s="+e.title+"&hint="+e.id+'" data-keyword="'+e.id+'" href="#">'+e.title+"</a></li>",list)})),utils.toggleClass(list,"hidden",0===e.length),this.bindList()},_autocomplete.prototype.bindList=function(){};
function recaptchaCheck(t){t&&(tsCaptcha.setHuman(!0),tsCaptcha.captchaResponse=grecaptcha.getResponse(),tsCaptcha.checkHumanCallback.call(tsCaptcha))}var tsReCaptcha={captchaResponse:null,isHuman:!1,siteKey:"6LdjdQEVAAAAADoPETocu1s0pweWsDcc5nFPbiWw",setSiteKey(t){this.siteKey=t},checkHumanCallback:function(){},setHuman:function(){this.isHuman=!0},ifHumanDo:function(t){var e=this;grecaptcha.ready((function(){grecaptcha.execute(e.siteKey,{action:"submit"}).then((function(e){t(e)}))}))},load:function(){if(!document.getElementById("scriptCaptcha")){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","https://www.google.com/recaptcha/api.js?render="+this.siteKey),t.setAttribute("id","scriptCaptcha"),t.setAttribute("async","async"),t.setAttribute("defer","defer"),document.getElementsByTagName("body")[0].appendChild(t)}}};
String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.remove||(Array.prototype.remove=function(){for(var t,e,n=arguments,o=n.length;o&&this.length;)for(t=n[--o];-1!==(e=this.indexOf(t));)this.splice(e,1);return this});var utils=utils||{};utils=function(){"use strict";return{picturePolyfill:function(){if(!Modernizr.picture&&document.getElementsByTagName("picture").length>0){var t=document.createElement("script");t.type="text/javascript",t.src="https://static.tuasaude.com/assets/picturefill.min.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}},addEventListener:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,(function(){n.call(t)}))},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},toggleClass:function(t,e,n){t&&(NodeList.prototype.isPrototypeOf(t)?t.forEach((function(t){utils.toggleClass(t,e,n)})):void 0===n?t.classList.toggle(e):t.classList.toggle(e,n))},css:function(t,e){for(var n in Object.keys(e))t.style[Object.keys(e)[n]]=e[Object.keys(e)[n]]},extend:function(t,e){var n,o={};for(n in t)o[n]=t[n];for(n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?o[n]=this.extend(t[n]||{},e[n]):o[n]=e[n];return o},getCookie:function(t){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var o=e[n].split("="),i=decodeURIComponent(o[0].trim()),r=o.length>1?o[1]:"";if(i==t)return decodeURIComponent(r)}return!1},forEach:function(t,e){for(var n=0,o=t.length;n<o;n++)e(t[n],n)},addListener:function(t,e,n,o){var i;return t.addEventListener?(i=1,t.addEventListener(e,n,!(!window.sg_passive||!o)&&{passive:!0})):t.attachEvent?(i=2,n=function(){return n.call(t,window.event)},t.attachEvent("on"+e,n)):(i=3,t["on"+e]=n),{method:i,element:t,type:e,callback:n,passive:o}},getPosition:function(t){for(var e=0,n=0;t;)e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;return{x:e,y:n}},appendHtmlToElement:function(t,e){var n=document.createElement("div");n.innerHTML=t.trim(),e.appendChild(n.firstChild)},setCookie:function(t,e,n){var o=encodeURIComponent(t)+"="+encodeURIComponent(e);n&&n instanceof Date&&(n={expires:n}),n&&"object"==typeof n&&(n.expires&&(o+="; expires="+n.expires.toGMTString()),n.path&&(o+="; path="+n.path.toString()),n.domain&&(o+="; domain="+n.domain.toString()),n.secure&&(o+="; secure")),document.cookie=o},debounce:function(t,e,n){var o;return function(){var i=this,r=arguments,s=function(){o=null,n||t.apply(i,r)},c=n&&!o;clearTimeout(o),o=setTimeout(s,e),c&&t.apply(i,r)}},onScrollDelayed:function(t,e){var n=function(){window.setTimeout((function(){t()}),e),document.removeEventListener("scroll",n)};document.addEventListener("scroll",n)},capitalize:function(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},getScript:function(t,e){"/"===t.charAt(0)&&"/"===t.charAt(1)&&(t=document.location.protocol+t);var n=window.document.getElementsByTagName("script")[0],o=window.document.createElement("script");return o.src=t,o.async=!0,n.parentNode.insertBefore(o,n),e&&"function"==typeof e&&(o.onload=e),o}}}();
var videos={init:function(){if(!main.isMobile()){var e=document.querySelectorAll(".youtube-link-card a");e&&e.forEach((e=>{e.onclick=e=>{var a=e.currentTarget;return this.openVideoModal(a.href),!1}}))}},checkVisible:function(){var e=this;document.querySelectorAll(".youtube-lazy-loading.unloaded").forEach((a=>{main.elementInViewport(a)&&e.showVideo(a)}))},buildIframe:function(e,a){var o=window.document.createElement("div");return o.classList.add("embed-responsive"),o.classList.add("embed-responsive-16by9"),o.dataset.id=e,o.innerHTML='<iframe width="640" height="360" class="embed-responsive-item" allowfullscreen="allowfullscreen" src="https://www.youtube.com/embed/'+e+"?rel=0&autoplay=0"+(a?"&start="+a:"")+'"></iframe>',o},showVideo:function(e){if(!e.dataset.loaded){e.dataset.loaded=!0;var a=this.buildIframe(e.dataset.videoId,e.dataset.videoStart);e.style.backgroundImage="url("+e.dataset.videoThumb+")",a.querySelector("iframe").onload=function(){e.classList.toggle("unloaded",!0)},e.appendChild(a)}},openVideoModal:function(e){Math.min(3*this.windowWidth/4,1280);var a=window.document.createElement("div");a.classList.add("modal-dropshadow");var o=window.document.createElement("div");o.classList.add("modal"),o.classList.add("yt-video"),o.innerHTML='<a href="#" class="close"><span></span><span></span></a><iframe class="embed-responsive-item" allowfullscreen="allowfullscreen" frameborder="0" src="'+e+'"></iframe>',a.appendChild(o);var t=document.getElementsByTagName("body")[0];t.appendChild(a),t.style.overflow="hidden",window.setTimeout((()=>{a.classList.toggle("show",!0)}),300),a.onclick=function(e){e.target===a&&(a.remove(),t.style.overflow="auto")},a.querySelector(".close").onclick=function(){return a.remove(),t.style.overflow="auto",!1}}};
var caloricIntake={gWdefaultMinimum:null,gWdefaultMaximum:null,init:function(e){var t=document.getElementById(e).querySelectorAll('[name="goal"]'),a=this;this.selectGoal("K"),t.forEach((e=>{e.onchange=e=>{var t=e.target;a.selectGoal(t.value)}}))},selectGoal:function(e){utils.toggleClass(document.querySelector(".field-goalWeight"),"hidden","K"===e),utils.toggleClass(document.querySelector(".field-goalTime"),"hidden","L"!==e);var t=document.getElementById("goalWeight"),a=document.getElementById("goalTime");if(!this.gWdefaultMinimum){var i=JSON.parse(t.dataset.validationInterval);this.gWdefaultMinimum=i[0],this.gWdefaultMaximum=i[1]}switch(e){case"K":t.dataset.validations="",t.required=!1,a.dataset.validations="";break;case"L":t.dataset.validations="type interval required",a.dataset.validations="required",t.required=!0,t.dataset.validationInterval="["+this.gWdefaultMinimum+',"@weight"]';break;case"G":t.dataset.validations="type interval required",a.dataset.validations="",t.required=!0,t.dataset.validationInterval='["@weight",'+this.gWdefaultMaximum+"]"}}};
var GenericCalculator=function(e,t,r,o,i,l){this.id=e,this.code=t,this.element=r,this.rootElement=r.parentElement.parentElement,this.isAjax=utils.hasClass(this.rootElement,"ajax-process"),this.submitCLicked=null,this.questionsDefinition=o,this.bindArticleOpener(),this.sentStartEvent=!1,this.form=this.element.querySelector("form"),this.subCalculators=this.form.querySelectorAll(".sub-calculators"),FormValidations.setErrors(l)};GenericCalculator.prototype.elementChange=function(){this.form.querySelectorAll("input, select").forEach((function(e){if(e.dataset.showIf){var t,r=JSON.parse(e.dataset.showIf);switch(r.operator=r.operator?r.operator:"=",r.operator){case"=":t=document.querySelector("#"+r.field+" input:checked").value==r.value;break;case"!=":t=document.querySelector("#"+r.field+" input:checked").value!=r.value}if(document.querySelector(".field-"+e.name).classList.toggle("hidden",!t),t){var o=1==e.dataset.validationRequired;e.required=o,o&&-1===e.dataset.validations.indexOf("required")&&(e.dataset.validations+=" required")}else e.required=!1,e.dataset.validations.indexOf("required")&&(e.dataset.validations=e.dataset.validations.replace("required","").trim())}}))},GenericCalculator.prototype.init=function(){var e=this;this.elements=this.form.querySelector(".field ._input"),this.submitedOption=this.form.querySelector(".submited-option"),this.submitButtons=this.form.querySelector("input[type=submit]"),this.submitButtons.onclick=function(){e.submitedOption.value=$(this).attr("name"),e.submitClicked=$(this).attr("name")},this.form.querySelectorAll("input, select").forEach((function(t){t.onclick=function(){e.sendStartEvent()},t.onchange=function(){console.log("changing"),e.elementChange()}})),this.elementChange(),this.form.onsubmit=function(t){var r=t.target,o=e.validateForm(),i=r.dataset.getaction,l=e.rootElement.querySelector(".widget-result");return o?!1!==r.dataset.sendable&&(!!i&&(new FormData(r).forEach((function(e,t){i=i.replace("/:"+t+"/","/"+(""!==e?e:"_")+"/")})),e.isAjax?(i+="?format=2021",googleAnalyticsEvents.send("calculator-result",e.code),events.send(main.page,{type:"calculator",id:e.id},"completed","1"),r.classList.toggle("amp-form-submitting",!0),Api.request(i,"GET",{success:function(t){var o=document.createElement("div");o.innerHTML=t.trim(),r.classList.toggle("amp-form-submitting",!1);var i=o.querySelector(".widget-result");l?l.innerHTML=i.innerHTML:e.rootElement.appendChild(i),l=e.rootElement.querySelector(".widget-result"),tuasaude.getOnRedeDorGround()&&redeDorBanner.bindCta(l.querySelector(".widget-rdor-cta")),utils.toggleClass(l,"hidden",!1);var n=document.getElementById("menstruationCalendar");n&&(n.querySelector(".navigate-backwards").onclick=function(){var t=document.getElementById("iteration");t.value=parseInt(t.value)-1,e.submitButtons.click()},n.querySelector(".navigate-forward").onclick=function(){var t=document.getElementById("iteration");t.value=parseInt(t.value)+1,e.submitButtons.click()}),e.bindArticleOpener(),main.scrollToElement(l)},dataType:"html"}),!1):(window.location.href=i,!1))):(googleAnalyticsEvents.send("calculator-fill-error",e.code),!1)},this.subCalculators&&this.bindSubCalculators(),this.questionsDefinition.forEach((function(t){var r=function(t){var r=t.currentTarget.id;errors=e.validateField(r),e.showFieldErrors(r,errors,!1)};if(document.getElementById(t.code).onblur=r,document.getElementById(t.code).onchange=r,t.type,"date"===t.type){r=function(){e.setDate(t.code)}.bind({question:t});e.form.querySelectorAll("."+t.code+"-subfield").forEach((function(e){e.onblur=r})),e.form.querySelectorAll("."+t.code+"-subfield").forEach((function(e){e.onchange=r}))}}))},GenericCalculator.prototype.bindSubCalculators=function(){var e=this;this.form.querySelectorAll(".sub-calculators a").forEach((function(t){t.onclick=function(t){var r=t.target.parentElement,o=e.rootElement.querySelector(".sub-calculators li.selected");return o&&utils.toggleClass(o,"selected",!1),utils.toggleClass(r,"selected",!0),e.form.querySelector("input.sub-calculator-switcher").value=r.dataset.subcalculator,utils.toggleClass(e.form.querySelectorAll(".field:not(.sc-"+r.dataset.subcalculator+")"),"hidden",!0),utils.toggleClass(e.form.querySelectorAll(".field.sc-"+r.dataset.subcalculator),"hidden",!1),!1}}))},GenericCalculator.prototype.setDate=function(e){var t,r=this.form.querySelectorAll("."+e+"-subfield"),o=document.getElementById(e),i={};return r.forEach((function(e){i[e.dataset.subfield]=e.value})),t=i.year+"-"+(1===i.month.length?"0":"")+i.month+"-"+(1===i.day.length?"0":"")+i.day,o.value=t,t},GenericCalculator.prototype.sendStartEvent=function(){!1===this.sentStartEvent&&(this.sentStartEvent=!0,googleAnalyticsEvents.send("calculator-start",this.code))},GenericCalculator.prototype.bindArticleOpener=function(){var e=this,t=this.rootElement.querySelector(".has-article-toggle a.open");t&&(t.onclick=function(){return utils.toggleClass(e.rootElement.querySelector(".has-article-toggle .content"),"hidden"),!1})},GenericCalculator.prototype.validateForm=function(){var e=this.validateFormFields();return this.showFormFieldErrors(e.detail),e.ok},GenericCalculator.prototype.showFormFieldErrors=function(e){for(var t in e)this.showFieldErrors(t,e[t])},GenericCalculator.prototype.showFieldErrors=function(e,t,r){return FormValidations.showFieldErrors(this.form,e,t,r)},GenericCalculator.prototype.validateFormFields=function(){var e={},t=!1,r=this;return this.questionsDefinition.forEach((function(o){var i,l=o.code,n=r.form.querySelector(".field-"+l);console.log("field is: ",n),n&&((i=utils.hasClass(n,"hidden")?{ok:!0}:r.validateField(l)).ok||(t=!0),e[l]=i)})),{ok:!t,detail:e}},GenericCalculator.prototype.validateField=function(e){return FormValidations.validateField(this.form,e)};
var FormValidations={errors:{},setErrors:function(e){this.errors=e},validateField:function(e,r){var t,a,l=e.querySelector(".field-"+r+" ._input"),i=[],s=this;if(l){if("radio-group"===l.dataset.type){var n=l.querySelector("input:checked");t=n?void 0===n.value?"":n.value:""}else t=l.value;return l.dataset.validations&&(i=l.dataset.validations.split(" ")),{ok:!(a=i.map((function(e){var r,a=l.dataset["validation"+utils.capitalize(e)];switch(e){case"type":if(""===t)return null;switch(a){case"int":if(t!=parseInt(t))return s.errors.invalid_number;break;case"float":if((r=t.replace(",","."))!=parseFloat(r))return s.errors.invalid_number;break;case"date":if(!FormValidations.validateDate(t))return s.errors.invalid_date}return null;case"interval":return a=JSON.parse(a),""===t?null:(console.log("value is ",a),r=t.replace(",","."),parseFloat(r)!=r?null:(r=parseFloat(r))||0===r?("string"==typeof a[0]&&"-1"!==a[0].indexOf("@")&&(a[0]=document.getElementById(a[0].substring(1)).value),"string"==typeof a[1]&&"-1"!==a[1].indexOf("@")&&(a[1]=document.getElementById(a[1].substring(1)).value),r<a[0]?s.errors.minimum_value_is+": "+a[0]:r>a[1]?s.errors.maximum_value_is+": "+a[1]:null):null);case"maxdeltadays":var i=new Date(t),n=new Date,u=Math.abs(n.getTime()-i.getTime());return a<Math.ceil(u/864e5)?s.errors.date_must_be_more_recent:null;case"beforetoday":i=new Date(t);var o=new Date;return o.setHours(0,0,0,0),i>o?s.errors.date_must_be_today_or_before:null;case"required":return""===t?s.errors.must_fill:null}})).filter((function(e){return null!==e}))).length,errors:a}}},showFieldErrors:function(e,r,t,a){void 0===a&&(a=!0);var l=e.querySelector(".field-"+r),i=l.querySelector(".error");if(t.ok)utils.toggleClass(l,"valid",!0),utils.toggleClass(l,"invalid",!1);else{if(!a&&""===l.value&&!utils.hasClass(l,"invalid"))return void utils.toggleClass(l,"valid",!1);utils.toggleClass(l,"valid",!1),utils.toggleClass(l,"invalid",!0),i.innerHTML=t.errors.map((function(e){return"<span>"+e+"</span>"})).join("<br>")}},validateDate:function(e){var r=e.split("-"),t=new Date(r[0],r[1]-1,r[2]);return t&&t.getMonth()+1==r[1]&&t.getDate()==Number(r[2])}};
"use strict";var GenericSymptomChecker=function(e,t,s,o,r,i){this.rootElement=document.getElementById(t),this.rootElement&&(this.properties=i,this.questions=r,this.action=o,this.code=s,this.started=!1,this.settings={nQuestions:r.length,width:620},this.answers={},this.result=null,this.id=e,this.form=this.rootElement.querySelector("form"),this.submitButton=this.rootElement.querySelector(".submit-container button"))};GenericSymptomChecker.prototype.setAction=function(e){this.action=e},GenericSymptomChecker.prototype.init=function(){var e=this;this.rootElement&&(this.rootElement.querySelector("ol").querySelectorAll("a").forEach((t=>{t.onclick=t=>{var s=t.target,o=s.parentElement.parentElement.dataset.index,r=s.dataset.answer;e.answer(o,r,s)}})),Api.ajaxifyForm(this.form,(t=>{var s=e.rootElement.querySelector(".widget-result"),o=s.querySelector(".text"),r=t.result;if(utils.toggleClass(s,"hidden",!1),utils.toggleClass(e.form,"amp-form-submitting",!1),console.log("intro is: ",s.querySelector(".intro")),s.querySelector(".intro").innerHTML=r.intro,googleAnalyticsEvents.send("symptom-test-result",this.code),utils.toggleClass(o,"hidden",!r.text),o.innerHTML=r.text,utils.toggleClass(s.querySelector(".info-block"),"hidden",!r.hasArticles),r.hasArticles){var i=s.querySelector(".article-list");s.querySelector(".info-block h3.title").innerHTML=r.articles.intro,i.querySelectorAll("li:not(.clonable)")&&i.querySelectorAll("li:not(.clonable)").forEach((e=>{e.remove()}));var l=i.querySelector("li.clonable");r.articles.list.forEach((e=>{var t=l.cloneNode(!0);t.classList.remove("hidden"),t.classList.remove("clonable"),t.querySelector("h3").innerHTML=e.title,t.querySelector("a").href=tuasaude.getUrl(e.url),t.querySelector("img").src=e.image,i.append(t)}))}}),{before:()=>{utils.toggleClass(e.form,"amp-form-submitting",!0),utils.toggleClass(this.rootElement.querySelector(".widget-result"),"hidden",!0)}}),e.bindWidgetResult())},GenericSymptomChecker.prototype.answer=function(e,t,s){!1===this.started&&(googleAnalyticsEvents.send("symptom-test-start",this.code),this.started=!0,utils.toggleClass(this.submitButton,"disabled",!1));var o=s.parentElement.querySelector(".selected");o&&utils.toggleClass(o,"selected",!1),utils.toggleClass(s,"selected",!0),s.parentElement.parentElement.querySelector("input").value=t,this.answers[e]=t,console.log(this.answers),this.checkCompletion()},GenericSymptomChecker.prototype.checkCompletion=function(){console.log("checking",Object.keys(this.answers).length,this.settings.nQuestions),Object.keys(this.answers).length===this.settings.nQuestions&&this.submitButton.click()},GenericSymptomChecker.prototype.bindWidgetResult=function(){var e=this;e.rootElement.querySelector(".widget-result .open")&&(e.rootElement.querySelector(".widget-result .open").onclick=()=>(utils.toggleClass(e.rootElement.querySelector(".content-expanded"),"hidden"),!1))};